.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_python-blog_002-using-pypistats.py>`     to download the full example code
    .. rst-class:: sphx-glr-example-title

    .. _sphx_glr_python-blog_002-using-pypistats.py:


Using PyPIstats
---------------

Not too long ago, I made a `pull request <https://github.com/hugovk/pypistats/pull/74>`_
to `PyPIstats <https://github.com/hugovk/pypistats>`_ to be able to make Pandas
:class:`DataFrame` objects of the download stats for any given project on PyPI.
It's a nifty little tool!

This example is mostly so that I can remember how to use PyPIstats and to have
a place where my favorite Python projects' stats are reported whenever my
website is automatically rebuilt.

Not much to see here unless you're interested in how many downloads my favorite
projects are getting lately.



.. code-block:: default


    # sphinx_gallery_thumbnail_number = 1
    import pypistats
    import matplotlib.pyplot as plt

    def fetch_and_plot(name):
        """A little helper method to do it all and make it pretty."""
        data = pypistats.overall(name, total=True, format="pandas")
        data = data.groupby("category").get_group("without_mirrors").sort_values("date")

        data.plot(x="date", y="downloads", figsize=(15, 5), marker='o')
        plt.xticks(
            rotation=45,
            horizontalalignment='right',
            fontweight='light',
            fontsize='medium',
        )
        plt.title("Downloads for {}".format(name))
        plt.tight_layout()
        return plt.show()









.. code-block:: default


    fetch_and_plot("pyvista")




.. image:: /python-blog/images/sphx_glr_002-using-pypistats_001.png
    :alt: Downloads for pyvista
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    /home/travis/virtualenv/python3.6.7/lib/python3.6/site-packages/pandas/plotting/_matplotlib/core.py:1235: UserWarning: FixedFormatter should only be used together with FixedLocator
      ax.set_xticklabels(xticklabels)





.. code-block:: default


    fetch_and_plot("scooby")




.. image:: /python-blog/images/sphx_glr_002-using-pypistats_002.png
    :alt: Downloads for scooby
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    /home/travis/virtualenv/python3.6.7/lib/python3.6/site-packages/pandas/plotting/_matplotlib/core.py:1235: UserWarning: FixedFormatter should only be used together with FixedLocator
      ax.set_xticklabels(xticklabels)





.. code-block:: default


    fetch_and_plot("SimPEG")




.. image:: /python-blog/images/sphx_glr_002-using-pypistats_003.png
    :alt: Downloads for SimPEG
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    /home/travis/virtualenv/python3.6.7/lib/python3.6/site-packages/pandas/plotting/_matplotlib/core.py:1235: UserWarning: FixedFormatter should only be used together with FixedLocator
      ax.set_xticklabels(xticklabels)





.. code-block:: default


    fetch_and_plot("PVGeo")




.. image:: /python-blog/images/sphx_glr_002-using-pypistats_004.png
    :alt: Downloads for PVGeo
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    /home/travis/virtualenv/python3.6.7/lib/python3.6/site-packages/pandas/plotting/_matplotlib/core.py:1235: UserWarning: FixedFormatter should only be used together with FixedLocator
      ax.set_xticklabels(xticklabels)





.. code-block:: default


    fetch_and_plot("itkwidgets")




.. image:: /python-blog/images/sphx_glr_002-using-pypistats_005.png
    :alt: Downloads for itkwidgets
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    /home/travis/virtualenv/python3.6.7/lib/python3.6/site-packages/pandas/plotting/_matplotlib/core.py:1235: UserWarning: FixedFormatter should only be used together with FixedLocator
      ax.set_xticklabels(xticklabels)





.. code-block:: default


    fetch_and_plot("gempy")




.. image:: /python-blog/images/sphx_glr_002-using-pypistats_006.png
    :alt: Downloads for gempy
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    /home/travis/virtualenv/python3.6.7/lib/python3.6/site-packages/pandas/plotting/_matplotlib/core.py:1235: UserWarning: FixedFormatter should only be used together with FixedLocator
      ax.set_xticklabels(xticklabels)





.. code-block:: default


    fetch_and_plot("omf")




.. image:: /python-blog/images/sphx_glr_002-using-pypistats_007.png
    :alt: Downloads for omf
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    /home/travis/virtualenv/python3.6.7/lib/python3.6/site-packages/pandas/plotting/_matplotlib/core.py:1235: UserWarning: FixedFormatter should only be used together with FixedLocator
      ax.set_xticklabels(xticklabels)





.. code-block:: default


    fetch_and_plot("omfvista")



.. image:: /python-blog/images/sphx_glr_002-using-pypistats_008.png
    :alt: Downloads for omfvista
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    /home/travis/virtualenv/python3.6.7/lib/python3.6/site-packages/pandas/plotting/_matplotlib/core.py:1235: UserWarning: FixedFormatter should only be used together with FixedLocator
      ax.set_xticklabels(xticklabels)





.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  4.323 seconds)


.. _sphx_glr_download_python-blog_002-using-pypistats.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: 002-using-pypistats.py <002-using-pypistats.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: 002-using-pypistats.ipynb <002-using-pypistats.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
